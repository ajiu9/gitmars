#!/usr/bin/env node
"use strict";require("core-js/modules/es.symbol");require("core-js/modules/es.symbol.description");require("core-js/modules/es.array.for-each");require("core-js/modules/es.function.name");require("core-js/modules/es.regexp.flags");require("core-js/modules/web.dom-collections.for-each");var program=require("commander");var sh=require("shelljs");var _require=require("./conf/unlink"),options=_require.options,args=_require.args;var _require2=require("./js/index"),createArgs=_require2.createArgs;program.name("gitm unlink").usage("<name>").description("解除本地包链接");if(args.length>0)program.arguments(createArgs(args));options.forEach(function(o){program.option(o.flags,o.description,o.defaultValue)});program.action(function(name,opt){var isLink=sh.test("-L","./node_modules/".concat(name)),isExist=sh.test("-e","./node_modules/".concat(name,"_bak"));if(isLink){sh.rm("-rf","./node_modules/".concat(name))}else{sh.echo("没有找到软链，请确认输入正确名称")}if(isExist){sh.mv("./node_modules/".concat(name,"_bak"),"./node_modules/".concat(name))}sh.echo("处理完成")});program.parse(process.argv);