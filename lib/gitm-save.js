#!/usr/bin/env node
"use strict";require("core-js/modules/es.symbol.js");require("core-js/modules/es.symbol.description.js");require("core-js/modules/es.array.for-each.js");require("core-js/modules/es.function.name.js");require("core-js/modules/es.regexp.flags.js");require("core-js/modules/web.dom-collections.for-each.js");var program=require("commander");var sh=require("shelljs");var _require=require("./conf/save"),options=_require.options,args=_require.args;var _require2=require("./js/index"),queue=_require2.queue,getCurrent=_require2.getCurrent,createArgs=_require2.createArgs;program.name("gitm save").usage("[message]").description("暂存当前分支文件");if(args.length>0)program.arguments(createArgs(args));options.forEach(function(o){program.option(o.flags,o.description,o.defaultValue)});program.action(function(message,opt){if(!message)message=getCurrent();var cmd=[{cmd:'git stash save "'.concat(message,'"'),config:{success:"文件暂存成功",fail:"出错了，请联系管理员"}}];if(opt.force){cmd=["git add .",{cmd:'git stash save "'.concat(message,'"'),config:{success:"文件暂存成功",fail:"出错了，请联系管理员"}}]}queue(cmd)});program.parse(process.argv);